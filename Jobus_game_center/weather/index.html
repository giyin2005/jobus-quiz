<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>é€šå‹¤å¤©æ°£å°å¹«æ‰‹ ğŸŒ¤</title>
<style>
    *{box-sizing:border-box;}

    body{
        margin:0;
        font-family:"Noto Sans TC", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        background:linear-gradient(#d9efff,#f3f8ff);
        min-height:100vh;
        overflow-x:hidden;
    }

    /* æ·¡æ·¡é£„å‹•é›²æœµèƒŒæ™¯ */
    .clouds{
        position:fixed;
        inset:0;
        overflow:hidden;
        z-index:0;
        pointer-events:none;
    }
    .cloud{
        position:absolute;
        background:#fff;
        width:220px;
        height:60px;
        border-radius:50px;
        filter:blur(2px);
        opacity:0.7;
        animation:moveCloud 40s linear infinite;
    }
    .cloud::before,
    .cloud::after{
        content:"";
        position:absolute;
        background:#fff;
        border-radius:50%;
    }
    .cloud::before{
        width:110px;
        height:80px;
        top:-25px;
        left:5px;
    }
    .cloud::after{
        width:130px;
        height:85px;
        top:-30px;
        left:90px;
    }
    .cloud.c1{top:40px;left:-260px;animation-duration:50s;}
    .cloud.c2{top:140px;left:-260px;animation-duration:60s;}
    .cloud.c3{top:220px;left:-260px;animation-duration:70s;}

    @keyframes moveCloud{
        0%{transform:translateX(0);}
        100%{transform:translateX(140vw);}
    }

    /* ä¸»è¦å…§å®¹å®¹å™¨ */
    .container{
        position:relative;
        z-index:10;
        max-width:520px;
        margin:0 auto;
        padding:20px 16px 32px;
    }
    h1{
        text-align:center;
        font-size:24px;
        margin:10px 0 4px;
        color: #333;
    }
    .subtitle-emoji{
        text-align:center;
        font-size:26px;
        margin-bottom:14px;
    }

    .card{
        background:#ffffff;
        border-radius:16px;
        padding:16px 18px;
        box-shadow:0 4px 10px rgba(0,0,0,0.08);
        margin-bottom:14px;
    }
    .card-title{
        font-weight:600;
        margin-bottom:6px;
        font-size:16px;
        color: #333;
    }

    /* æœå°‹è¼¸å…¥ + å»ºè­° */
    .search-wrapper{
        position:relative;
        margin-top:8px;
    }
    #searchInput{
        width:100%;
        padding:12px 14px;
        font-size:18px;
        border-radius:12px;
        border:1px solid #3A8DFF;
        outline:none;
        background:#fff;
    }
    #suggestions{
        position:absolute;
        left:0;
        right:0;
        top:100%;
        margin-top:4px;
        background:#fff;
        border-radius:12px;
        box-shadow:0 4px 15px rgba(0,0,0,0.15);
        max-height:280px;
        overflow-y:auto;
        display:none;
        z-index:20;
    }
    .s-item{
        padding:10px 14px;
        cursor:pointer;
        font-size:16px;
        border-bottom: 1px solid #f0f0f0;
    }
    .s-item:last-child{ border-bottom: none; }
    .s-item:hover{
        background:#eef4ff;
        color: #3A8DFF;
    }

    .btn-row{
        display:flex;
        gap:8px;
        margin-top:12px;
    }

    .main-btn{
        flex:1;
        padding:12px 16px;
        font-size:16px;
        border-radius:999px;
        border:none;
        background:#3A8DFF;
        color:#fff;
        cursor:pointer;
        transition: background 0.2s;
    }
    .main-btn:hover{ background:#2a75d9; }
    
    .ghost-btn{
        flex:1;
        padding:12px 16px;
        font-size:15px;
        border-radius:999px;
        border:1px solid #3A8DFF;
        background:#fff;
        color:#3A8DFF;
        cursor:pointer;
        transition: background 0.2s;
    }
    .ghost-btn:hover{ background:#f0f7ff; }

    .main-btn:disabled,
    .ghost-btn:disabled{
        opacity:0.6;
        cursor:default;
    }

    /* loading spinner */
    .loading{
        display:none;
        margin-top:10px;
        font-size:14px;
        align-items:center;
        gap:6px;
        color:#555;
    }
    .spinner{
        width:16px;
        height:16px;
        border-radius:50%;
        border:2px solid rgba(58,141,255,0.3);
        border-top-color:#3A8DFF;
        animation:spin 0.8s linear infinite;
    }
    @keyframes spin{
        to{transform:rotate(360deg);}
    }

    /* å¤©æ°£æ‘˜è¦å¡ç‰‡ */
    #weatherSummaryCard{
        display:none;
        line-height:1.6;
        font-size:15px;
        color: #333;
        border: 2px solid transparent; 
    }
    
    /* æ¨™é¡Œå€å¡Šï¼šåŸå¸‚ + æ™‚é–“ */
    .summary-header {
        margin-bottom: 12px;
        padding-bottom: 8px;
        border-bottom: 1px solid #eee;
    }
    #summaryCity {
        font-size: 19px;
        font-weight: 700;
        color: #222;
    }
    #summaryTime {
        font-size: 14px;
        color: #666;
        margin-top: 2px;
    }

    /* åˆ—è¡¨å¼è³‡è¨Š */
    .info-row {
        margin-bottom: 6px;
        display: flex;
        align-items: flex-start;
    }
    .info-icon {
        min-width: 24px;
        text-align: center;
        margin-right: 6px;
    }
    .info-text {
        flex: 1;
    }

    /* åº•éƒ¨ç¸½çµ */
    #weatherBottomNote {
        margin-top: 12px;
        font-weight: 600;
        color: #333;
        background: #f4f6f8;
        padding: 10px;
        border-radius: 8px;
        font-size: 15px;
    }

    /* é€šå‹¤æŒ‰éˆ• */
    #commuteBtns{
        display:none;
        flex-wrap:wrap;
        gap:10px;
        justify-content:center;
        margin-top:4px;
    }
    .cm-btn{
        flex:1 1 45%;
        min-width:130px;
        padding:10px 12px;
        border-radius:14px;
        border:2px solid #3A8DFF;
        background:#fff;
        color:#3A8DFF;
        font-size:16px;
        cursor:pointer;
        box-shadow:0 2px 6px rgba(0,0,0,0.05);
        transition: all 0.2s;
    }
    .cm-btn:hover{
        background: #3A8DFF;
        color: #fff;
    }
    #commuteResult{
        margin-top:12px;
        font-size:16px;
        font-weight:600;
        line-height: 1.5;
    }

    @media (max-width:360px){
        h1{font-size:22px;}
        #searchInput{font-size:16px;}
        .cm-btn{font-size:15px;}
    }
</style>
</head>
<body>
<div class="clouds">
    <div class="cloud c1"></div>
    <div class="cloud c2"></div>
    <div class="cloud c3"></div>
</div>

<div class="container">
    <h1>é€šå‹¤å¤©æ°£å°å¹«æ‰‹</h1>
    <div class="subtitle-emoji">ğŸŒ¤</div>

    <div class="card">
        <div class="card-title">è¼¸å…¥ç¸£å¸‚æˆ–è¡Œæ”¿å€</div>
        <div class="search-wrapper">
            <input id="searchInput" type="text"
                   placeholder="ä¾‹å¦‚ï¼šå°åŒ—å¸‚ å¤§å®‰å€"
                   autocomplete="off" />
            <div id="suggestions"></div>
        </div>

        <div class="btn-row">
            <button class="main-btn" id="getWeatherBtn">æŸ¥çœ‹ä»Šæ—¥å»ºè­°</button>
            <button class="ghost-btn" id="geoBtn">ğŸ“ ç”¨ç›®å‰ä½ç½®</button>
        </div>

        <div class="loading" id="loadingBox">
            <div class="spinner"></div>
            <span id="loadingText">æŸ¥è©¢ä¸­ï¼Œå¹«ä½ çœ‹ä¸€ä¸‹ä»Šå¤©çš„å¤©æ°£â€¦</span>
        </div>
    </div>

    <div class="card" id="weatherSummaryCard">
        <div class="summary-header">
            <div id="summaryCity"></div>
            <div id="summaryTime"></div>
        </div>
        
        <div id="infoList"></div>

        <div id="weatherBottomNote">å¤©æ°£æ­£å¸¸ï¼Œé¸ä¸€å€‹ä½ æœ€èˆ’æœçš„é€šå‹¤æ–¹å¼å°±å¥½ã€‚</div>
    </div>

    <div class="card">
        <div class="card-title">é€šå‹¤é¸æ“‡</div>
        <div id="commuteBtns">
            <button class="cm-btn" data-type="mrt">ğŸš‡ æ·é‹</button>
            <button class="cm-btn" data-type="walk">ğŸš¶ æå‰ä¸€ç«™èµ°è·¯</button>
            <button class="cm-btn" data-type="bus">ğŸšŒ æ­å…¬è»Š</button>
            <button class="cm-btn" data-type="scooter">ğŸ›µ æ©Ÿè»Š</button>
            <button class="cm-btn" data-type="car">ğŸš— é–‹è»Š</button>
            <button class="cm-btn" data-type="cafe">â˜• å’–å•¡å»³å…ˆé–‹å·¥</button>
        </div>
        <div id="commuteResult"></div>
    </div>
</div>

<script>
// ============================================
//  å…¨å° 368 é„‰é®å¸‚å€è¡Œæ”¿å€ç¶“ç·¯åº¦è³‡æ–™åº«
// ============================================
const districts = [
  {name: "åŸºéš†å¸‚ ä»æ„›å€", lat: 25.128, lon: 121.742}, {name: "åŸºéš†å¸‚ ä¿¡ç¾©å€", lat: 25.127, lon: 121.758}, {name: "åŸºéš†å¸‚ ä¸­æ­£å€", lat: 25.143, lon: 121.768},
  {name: "åŸºéš†å¸‚ ä¸­å±±å€", lat: 25.148, lon: 121.733}, {name: "åŸºéš†å¸‚ å®‰æ¨‚å€", lat: 25.138, lon: 121.718}, {name: "åŸºéš†å¸‚ æš–æš–å€", lat: 25.097, lon: 121.739},
  {name: "åŸºéš†å¸‚ ä¸ƒå µå€", lat: 25.094, lon: 121.706},
  {name: "å°åŒ—å¸‚ ä¸­æ­£å€", lat: 25.032, lon: 121.519}, {name: "å°åŒ—å¸‚ å¤§åŒå€", lat: 25.063, lon: 121.513}, {name: "å°åŒ—å¸‚ ä¸­å±±å€", lat: 25.064, lon: 121.533},
  {name: "å°åŒ—å¸‚ æ¾å±±å€", lat: 25.058, lon: 121.558}, {name: "å°åŒ—å¸‚ å¤§å®‰å€", lat: 25.026, lon: 121.543}, {name: "å°åŒ—å¸‚ è¬è¯å€", lat: 25.030, lon: 121.498},
  {name: "å°åŒ—å¸‚ ä¿¡ç¾©å€", lat: 25.033, lon: 121.565}, {name: "å°åŒ—å¸‚ å£«æ—å€", lat: 25.092, lon: 121.525}, {name: "å°åŒ—å¸‚ åŒ—æŠ•å€", lat: 25.132, lon: 121.500},
  {name: "å°åŒ—å¸‚ å…§æ¹–å€", lat: 25.083, lon: 121.594}, {name: "å°åŒ—å¸‚ å—æ¸¯å€", lat: 25.055, lon: 121.617}, {name: "å°åŒ—å¸‚ æ–‡å±±å€", lat: 24.998, lon: 121.574},
  {name: "æ–°åŒ—å¸‚ è¬é‡Œå€", lat: 25.176, lon: 121.636}, {name: "æ–°åŒ—å¸‚ é‡‘å±±å€", lat: 25.222, lon: 121.638}, {name: "æ–°åŒ—å¸‚ æ¿æ©‹å€", lat: 25.014, lon: 121.464},
  {name: "æ–°åŒ—å¸‚ æ±æ­¢å€", lat: 25.067, lon: 121.660}, {name: "æ–°åŒ—å¸‚ æ·±å‘å€", lat: 25.002, lon: 121.615}, {name: "æ–°åŒ—å¸‚ çŸ³ç¢‡å€", lat: 24.992, lon: 121.660},
  {name: "æ–°åŒ—å¸‚ ç‘èŠ³å€", lat: 25.109, lon: 121.805}, {name: "æ–°åŒ—å¸‚ å¹³æºªå€", lat: 25.025, lon: 121.738}, {name: "æ–°åŒ—å¸‚ é›™æºªå€", lat: 25.036, lon: 121.865},
  {name: "æ–°åŒ—å¸‚ è²¢å¯®å€", lat: 25.022, lon: 121.942}, {name: "æ–°åŒ—å¸‚ æ–°åº—å€", lat: 24.957, lon: 121.538}, {name: "æ–°åŒ—å¸‚ åªæ—å€", lat: 24.936, lon: 121.710},
  {name: "æ–°åŒ—å¸‚ çƒä¾†å€", lat: 24.865, lon: 121.551}, {name: "æ–°åŒ—å¸‚ æ°¸å’Œå€", lat: 25.009, lon: 121.516}, {name: "æ–°åŒ—å¸‚ ä¸­å’Œå€", lat: 24.993, lon: 121.500},
  {name: "æ–°åŒ—å¸‚ åœŸåŸå€", lat: 24.973, lon: 121.444}, {name: "æ–°åŒ—å¸‚ ä¸‰å³½å€", lat: 24.935, lon: 121.369}, {name: "æ–°åŒ—å¸‚ æ¨¹æ—å€", lat: 24.990, lon: 121.420},
  {name: "æ–°åŒ—å¸‚ é¶¯æ­Œå€", lat: 24.955, lon: 121.349}, {name: "æ–°åŒ—å¸‚ ä¸‰é‡å€", lat: 25.061, lon: 121.488}, {name: "æ–°åŒ—å¸‚ æ–°èŠå€", lat: 25.036, lon: 121.450},
  {name: "æ–°åŒ—å¸‚ æ³°å±±å€", lat: 25.059, lon: 121.431}, {name: "æ–°åŒ—å¸‚ æ—å£å€", lat: 25.077, lon: 121.393}, {name: "æ–°åŒ—å¸‚ è˜†æ´²å€", lat: 25.085, lon: 121.472},
  {name: "æ–°åŒ—å¸‚ äº”è‚¡å€", lat: 25.084, lon: 121.438}, {name: "æ–°åŒ—å¸‚ å…«é‡Œå€", lat: 25.146, lon: 121.398}, {name: "æ–°åŒ—å¸‚ æ·¡æ°´å€", lat: 25.175, lon: 121.444},
  {name: "æ–°åŒ—å¸‚ ä¸‰èŠå€", lat: 25.258, lon: 121.500}, {name: "æ–°åŒ—å¸‚ çŸ³é–€å€", lat: 25.290, lon: 121.569},
  {name: "å®œè˜­ç¸£ å®œè˜­å¸‚", lat: 24.757, lon: 121.752}, {name: "å®œè˜­ç¸£ ç¾…æ±é®", lat: 24.675, lon: 121.767}, {name: "å®œè˜­ç¸£ è˜‡æ¾³é®", lat: 24.595, lon: 121.848},
  {name: "å®œè˜­ç¸£ é ­åŸé®", lat: 24.858, lon: 121.823}, {name: "å®œè˜­ç¸£ ç¤æºªé„‰", lat: 24.821, lon: 121.764}, {name: "å®œè˜­ç¸£ å£¯åœé„‰", lat: 24.779, lon: 121.794},
  {name: "å®œè˜­ç¸£ å“¡å±±é„‰", lat: 24.743, lon: 121.720}, {name: "å®œè˜­ç¸£ å†¬å±±é„‰", lat: 24.636, lon: 121.791}, {name: "å®œè˜­ç¸£ äº”çµé„‰", lat: 24.693, lon: 121.802},
  {name: "å®œè˜­ç¸£ ä¸‰æ˜Ÿé„‰", lat: 24.665, lon: 121.651}, {name: "å®œè˜­ç¸£ å¤§åŒé„‰", lat: 24.676, lon: 121.606}, {name: "å®œè˜­ç¸£ å—æ¾³é„‰", lat: 24.464, lon: 121.798},
  {name: "æ¡ƒåœ’å¸‚ æ¡ƒåœ’å€", lat: 24.993, lon: 121.296}, {name: "æ¡ƒåœ’å¸‚ ä¸­å£¢å€", lat: 24.954, lon: 121.225}, {name: "æ¡ƒåœ’å¸‚ å¤§æºªå€", lat: 24.881, lon: 121.287},
  {name: "æ¡ƒåœ’å¸‚ æ¥Šæ¢…å€", lat: 24.908, lon: 121.146}, {name: "æ¡ƒåœ’å¸‚ è˜†ç«¹å€", lat: 25.050, lon: 121.289}, {name: "æ¡ƒåœ’å¸‚ å¤§åœ’å€", lat: 25.063, lon: 121.196},
  {name: "æ¡ƒåœ’å¸‚ é¾œå±±å€", lat: 24.996, lon: 121.349}, {name: "æ¡ƒåœ’å¸‚ å…«å¾·å€", lat: 24.931, lon: 121.283}, {name: "æ¡ƒåœ’å¸‚ é¾æ½­å€", lat: 24.865, lon: 121.213},
  {name: "æ¡ƒåœ’å¸‚ å¹³é®å€", lat: 24.922, lon: 121.214}, {name: "æ¡ƒåœ’å¸‚ æ–°å±‹å€", lat: 24.972, lon: 121.106}, {name: "æ¡ƒåœ’å¸‚ è§€éŸ³å€", lat: 25.036, lon: 121.079},
  {name: "æ¡ƒåœ’å¸‚ å¾©èˆˆå€", lat: 24.823, lon: 121.354},
  {name: "æ–°ç«¹å¸‚ æ±å€",   lat: 24.798, lon: 121.000}, {name: "æ–°ç«¹å¸‚ åŒ—å€",   lat: 24.819, lon: 120.957}, {name: "æ–°ç«¹å¸‚ é¦™å±±å€", lat: 24.767, lon: 120.938},
  {name: "æ–°ç«¹ç¸£ ç«¹åŒ—å¸‚", lat: 24.839, lon: 121.009}, {name: "æ–°ç«¹ç¸£ ç«¹æ±é®", lat: 24.739, lon: 121.088}, {name: "æ–°ç«¹ç¸£ æ–°åŸ”é®", lat: 24.829, lon: 121.073},
  {name: "æ–°ç«¹ç¸£ é—œè¥¿é®", lat: 24.795, lon: 121.176}, {name: "æ–°ç«¹ç¸£ æ¹–å£é„‰", lat: 24.904, lon: 121.043}, {name: "æ–°ç«¹ç¸£ æ–°è±é„‰", lat: 24.898, lon: 120.985},
  {name: "æ–°ç«¹ç¸£ èŠæ—é„‰", lat: 24.773, lon: 121.082}, {name: "æ–°ç«¹ç¸£ æ©«å±±é„‰", lat: 24.717, lon: 121.117}, {name: "æ–°ç«¹ç¸£ åŒ—åŸ”é„‰", lat: 24.699, lon: 121.056},
  {name: "æ–°ç«¹ç¸£ å¯¶å±±é„‰", lat: 24.757, lon: 121.031}, {name: "æ–°ç«¹ç¸£ å³¨çœ‰é„‰", lat: 24.686, lon: 121.018}, {name: "æ–°ç«¹ç¸£ å°–çŸ³é„‰", lat: 24.707, lon: 121.200},
  {name: "æ–°ç«¹ç¸£ äº”å³°é„‰", lat: 24.630, lon: 121.130},
  {name: "è‹—æ —ç¸£ è‹—æ —å¸‚", lat: 24.561, lon: 120.820}, {name: "è‹—æ —ç¸£ è‹‘è£¡é®", lat: 24.442, lon: 120.655}, {name: "è‹—æ —ç¸£ é€šéœ„é®", lat: 24.490, lon: 120.678},
  {name: "è‹—æ —ç¸£ ç«¹å—é®", lat: 24.687, lon: 120.877}, {name: "è‹—æ —ç¸£ é ­ä»½å¸‚", lat: 24.687, lon: 120.912}, {name: "è‹—æ —ç¸£ å¾Œé¾é®", lat: 24.613, lon: 120.786},
  {name: "è‹—æ —ç¸£ å“è˜­é®", lat: 24.312, lon: 120.828}, {name: "è‹—æ —ç¸£ å¤§æ¹–é„‰", lat: 24.423, lon: 120.865}, {name: "è‹—æ —ç¸£ å…¬é¤¨é„‰", lat: 24.505, lon: 120.827},
  {name: "è‹—æ —ç¸£ éŠ…é‘¼é„‰", lat: 24.484, lon: 120.788}, {name: "è‹—æ —ç¸£ å—åº„é„‰", lat: 24.600, lon: 120.997}, {name: "è‹—æ —ç¸£ é ­å±‹é„‰", lat: 24.577, lon: 120.846},
  {name: "è‹—æ —ç¸£ ä¸‰ç¾©é„‰", lat: 24.410, lon: 120.772}, {name: "è‹—æ —ç¸£ è¥¿æ¹–é„‰", lat: 24.551, lon: 120.748}, {name: "è‹—æ —ç¸£ é€ æ©‹é„‰", lat: 24.636, lon: 120.862},
  {name: "è‹—æ —ç¸£ ä¸‰ç£é„‰", lat: 24.654, lon: 120.952}, {name: "è‹—æ —ç¸£ ç…æ½­é„‰", lat: 24.544, lon: 120.918}, {name: "è‹—æ —ç¸£ æ³°å®‰é„‰", lat: 24.444, lon: 120.902},
  {name: "å°ä¸­å¸‚ ä¸­å€",   lat: 24.142, lon: 120.680}, {name: "å°ä¸­å¸‚ æ±å€",   lat: 24.135, lon: 120.694}, {name: "å°ä¸­å¸‚ å—å€",   lat: 24.120, lon: 120.669},
  {name: "å°ä¸­å¸‚ è¥¿å€",   lat: 24.143, lon: 120.664}, {name: "å°ä¸­å¸‚ åŒ—å€",   lat: 24.164, lon: 120.680}, {name: "å°ä¸­å¸‚ è¥¿å±¯å€", lat: 24.181, lon: 120.641},
  {name: "å°ä¸­å¸‚ å—å±¯å€", lat: 24.139, lon: 120.638}, {name: "å°ä¸­å¸‚ åŒ—å±¯å€", lat: 24.183, lon: 120.718}, {name: "å°ä¸­å¸‚ è±åŸå€", lat: 24.254, lon: 120.720},
  {name: "å°ä¸­å¸‚ æ±å‹¢å€", lat: 24.258, lon: 120.828}, {name: "å°ä¸­å¸‚ å¤§ç”²å€", lat: 24.346, lon: 120.627}, {name: "å°ä¸­å¸‚ æ¸…æ°´å€", lat: 24.270, lon: 120.573},
  {name: "å°ä¸­å¸‚ æ²™é¹¿å€", lat: 24.234, lon: 120.563}, {name: "å°ä¸­å¸‚ æ¢§æ£²å€", lat: 24.253, lon: 120.536}, {name: "å°ä¸­å¸‚ åé‡Œå€", lat: 24.305, lon: 120.712},
  {name: "å°ä¸­å¸‚ ç¥å²¡å€", lat: 24.256, lon: 120.663}, {name: "å°ä¸­å¸‚ æ½­å­å€", lat: 24.208, lon: 120.704}, {name: "å°ä¸­å¸‚ å¤§é›…å€", lat: 24.227, lon: 120.647},
  {name: "å°ä¸­å¸‚ æ–°ç¤¾å€", lat: 24.234, lon: 120.809}, {name: "å°ä¸­å¸‚ çŸ³å²¡å€", lat: 24.277, lon: 120.779}, {name: "å°ä¸­å¸‚ å¤–åŸ”å€", lat: 24.329, lon: 120.650},
  {name: "å°ä¸­å¸‚ å¤§å®‰å€", lat: 24.388, lon: 120.584}, {name: "å°ä¸­å¸‚ çƒæ—¥å€", lat: 24.103, lon: 120.622}, {name: "å°ä¸­å¸‚ å¤§è‚šå€", lat: 24.155, lon: 120.540},
  {name: "å°ä¸­å¸‚ é¾äº•å€", lat: 24.195, lon: 120.545}, {name: "å°ä¸­å¸‚ éœ§å³°å€", lat: 24.062, lon: 120.702}, {name: "å°ä¸­å¸‚ å¤ªå¹³å€", lat: 24.127, lon: 120.718},
  {name: "å°ä¸­å¸‚ å¤§é‡Œå€", lat: 24.100, lon: 120.690}, {name: "å°ä¸­å¸‚ å’Œå¹³å€", lat: 24.223, lon: 120.925},
  {name: "å½°åŒ–ç¸£ å½°åŒ–å¸‚", lat: 24.081, lon: 120.538}, {name: "å½°åŒ–ç¸£ é¹¿æ¸¯é®", lat: 24.057, lon: 120.435}, {name: "å½°åŒ–ç¸£ å’Œç¾é®", lat: 24.111, lon: 120.500},
  {name: "å½°åŒ–ç¸£ ç·šè¥¿é„‰", lat: 24.129, lon: 120.468}, {name: "å½°åŒ–ç¸£ ä¼¸æ¸¯é„‰", lat: 24.146, lon: 120.485}, {name: "å½°åŒ–ç¸£ ç¦èˆˆé„‰", lat: 24.045, lon: 120.443},
  {name: "å½°åŒ–ç¸£ ç§€æ°´é„‰", lat: 24.037, lon: 120.504}, {name: "å½°åŒ–ç¸£ èŠ±å£‡é„‰", lat: 24.029, lon: 120.539}, {name: "å½°åŒ–ç¸£ èŠ¬åœ’é„‰", lat: 24.015, lon: 120.629},
  {name: "å½°åŒ–ç¸£ å“¡æ—å¸‚", lat: 23.959, lon: 120.570}, {name: "å½°åŒ–ç¸£ æºªæ¹–é®", lat: 23.960, lon: 120.479}, {name: "å½°åŒ–ç¸£ ç”°ä¸­é®", lat: 23.861, lon: 120.590},
  {name: "å½°åŒ–ç¸£ å¤§æ‘é„‰", lat: 23.996, lon: 120.545}, {name: "å½°åŒ–ç¸£ åŸ”é¹½é„‰", lat: 24.001, lon: 120.462}, {name: "å½°åŒ–ç¸£ åŸ”å¿ƒé„‰", lat: 23.953, lon: 120.542},
  {name: "å½°åŒ–ç¸£ æ°¸é–é„‰", lat: 23.924, lon: 120.547}, {name: "å½°åŒ–ç¸£ ç¤¾é ­é„‰", lat: 23.897, lon: 120.582}, {name: "å½°åŒ–ç¸£ äºŒæ°´é„‰", lat: 23.815, lon: 120.617},
  {name: "å½°åŒ–ç¸£ åŒ—æ–—é®", lat: 23.873, lon: 120.525}, {name: "å½°åŒ–ç¸£ äºŒæ—é®", lat: 23.901, lon: 120.380}, {name: "å½°åŒ–ç¸£ ç”°å°¾é„‰", lat: 23.891, lon: 120.528},
  {name: "å½°åŒ–ç¸£ åŸ¤é ­é„‰", lat: 23.890, lon: 120.462}, {name: "å½°åŒ–ç¸£ èŠ³è‹‘é„‰", lat: 23.928, lon: 120.320}, {name: "å½°åŒ–ç¸£ å¤§åŸé„‰", lat: 23.855, lon: 120.285},
  {name: "å½°åŒ–ç¸£ ç«¹å¡˜é„‰", lat: 23.844, lon: 120.422}, {name: "å½°åŒ–ç¸£ æºªå·é„‰", lat: 23.853, lon: 120.504},
  {name: "å—æŠ•ç¸£ å—æŠ•å¸‚", lat: 23.916, lon: 120.686}, {name: "å—æŠ•ç¸£ åŸ”é‡Œé®", lat: 23.966, lon: 120.968}, {name: "å—æŠ•ç¸£ è‰å±¯é®", lat: 23.978, lon: 120.684},
  {name: "å—æŠ•ç¸£ ç«¹å±±é®", lat: 23.756, lon: 120.686}, {name: "å—æŠ•ç¸£ é›†é›†é®", lat: 23.830, lon: 120.785}, {name: "å—æŠ•ç¸£ åé–“é„‰", lat: 23.838, lon: 120.704},
  {name: "å—æŠ•ç¸£ é¹¿è°·é„‰", lat: 23.744, lon: 120.751}, {name: "å—æŠ•ç¸£ ä¸­å¯®é„‰", lat: 23.896, lon: 120.776}, {name: "å—æŠ•ç¸£ é­šæ± é„‰", lat: 23.897, lon: 120.936},
  {name: "å—æŠ•ç¸£ åœ‹å§“é„‰", lat: 24.043, lon: 120.852}, {name: "å—æŠ•ç¸£ æ°´é‡Œé„‰", lat: 23.812, lon: 120.855}, {name: "å—æŠ•ç¸£ ä¿¡ç¾©é„‰", lat: 23.685, lon: 120.890},
  {name: "å—æŠ•ç¸£ ä»æ„›é„‰", lat: 24.025, lon: 121.127},
  {name: "é›²æ—ç¸£ æ–—å…­å¸‚", lat: 23.709, lon: 120.543}, {name: "é›²æ—ç¸£ æ–—å—é®", lat: 23.673, lon: 120.480}, {name: "é›²æ—ç¸£ è™å°¾é®", lat: 23.708, lon: 120.435},
  {name: "é›²æ—ç¸£ è¥¿èºé®", lat: 23.795, lon: 120.463}, {name: "é›²æ—ç¸£ åœŸåº«é®", lat: 23.676, lon: 120.393}, {name: "é›²æ—ç¸£ åŒ—æ¸¯é®", lat: 23.575, lon: 120.306},
  {name: "é›²æ—ç¸£ å¤å‘é„‰", lat: 23.645, lon: 120.559}, {name: "é›²æ—ç¸£ å¤§åŸ¤é„‰", lat: 23.645, lon: 120.430}, {name: "é›²æ—ç¸£ è¿æ¡é„‰", lat: 23.761, lon: 120.505},
  {name: "é›²æ—ç¸£ æ—å…§é„‰", lat: 23.760, lon: 120.612}, {name: "é›²æ—ç¸£ äºŒå´™é„‰", lat: 23.771, lon: 120.415}, {name: "é›²æ—ç¸£ å´™èƒŒé„‰", lat: 23.759, lon: 120.354},
  {name: "é›²æ—ç¸£ éº¥å¯®é„‰", lat: 23.754, lon: 120.252}, {name: "é›²æ—ç¸£ æ±å‹¢é„‰", lat: 23.693, lon: 120.255}, {name: "é›²æ—ç¸£ è¤’å¿ é„‰", lat: 23.694, lon: 120.311},
  {name: "é›²æ—ç¸£ å°è¥¿é„‰", lat: 23.703, lon: 120.208}, {name: "é›²æ—ç¸£ å…ƒé•·é„‰", lat: 23.655, lon: 120.315}, {name: "é›²æ—ç¸£ å››æ¹–é„‰", lat: 23.639, lon: 120.224},
  {name: "é›²æ—ç¸£ å£æ¹–é„‰", lat: 23.585, lon: 120.187}, {name: "é›²æ—ç¸£ æ°´æ—é„‰", lat: 23.576, lon: 120.246},
  {name: "å˜‰ç¾©å¸‚ æ±å€",   lat: 23.483, lon: 120.457}, {name: "å˜‰ç¾©å¸‚ è¥¿å€",   lat: 23.477, lon: 120.435},
  {name: "å˜‰ç¾©ç¸£ å¤ªä¿å¸‚", lat: 23.459, lon: 120.332}, {name: "å˜‰ç¾©ç¸£ æœ´å­å¸‚", lat: 23.466, lon: 120.247}, {name: "å˜‰ç¾©ç¸£ å¸ƒè¢‹é®", lat: 23.376, lon: 120.160},
  {name: "å˜‰ç¾©ç¸£ å¤§æ—é®", lat: 23.597, lon: 120.468}, {name: "å˜‰ç¾©ç¸£ æ°‘é›„é„‰", lat: 23.553, lon: 120.428}, {name: "å˜‰ç¾©ç¸£ æºªå£é„‰", lat: 23.601, lon: 120.394},
  {name: "å˜‰ç¾©ç¸£ æ–°æ¸¯é„‰", lat: 23.554, lon: 120.347}, {name: "å˜‰ç¾©ç¸£ å…­è…³é„‰", lat: 23.513, lon: 120.291}, {name: "å˜‰ç¾©ç¸£ æ±çŸ³é„‰", lat: 23.456, lon: 120.167},
  {name: "å˜‰ç¾©ç¸£ ç¾©ç«¹é„‰", lat: 23.344, lon: 120.251}, {name: "å˜‰ç¾©ç¸£ é¹¿è‰é„‰", lat: 23.411, lon: 120.310}, {name: "å˜‰ç¾©ç¸£ æ°´ä¸Šé„‰", lat: 23.428, lon: 120.403},
  {name: "å˜‰ç¾©ç¸£ ä¸­åŸ”é„‰", lat: 23.422, lon: 120.518}, {name: "å˜‰ç¾©ç¸£ ç«¹å´é„‰", lat: 23.523, lon: 120.551}, {name: "å˜‰ç¾©ç¸£ æ¢…å±±é„‰", lat: 23.582, lon: 120.558},
  {name: "å˜‰ç¾©ç¸£ ç•ªè·¯é„‰", lat: 23.433, lon: 120.597}, {name: "å˜‰ç¾©ç¸£ å¤§åŸ”é„‰", lat: 23.298, lon: 120.594}, {name: "å˜‰ç¾©ç¸£ é˜¿é‡Œå±±é„‰",lat:23.509, lon:120.803},
  {name: "å°å—å¸‚ æ–°ç‡Ÿå€", lat: 23.308, lon: 120.316}, {name: "å°å—å¸‚ é¹½æ°´å€", lat: 23.319, lon: 120.266}, {name: "å°å—å¸‚ ç™½æ²³å€", lat: 23.351, lon: 120.416},
  {name: "å°å—å¸‚ æŸ³ç‡Ÿå€", lat: 23.278, lon: 120.311}, {name: "å°å—å¸‚ å¾Œå£å€", lat: 23.367, lon: 120.361}, {name: "å°å—å¸‚ æ±å±±å€", lat: 23.291, lon: 120.404},
  {name: "å°å—å¸‚ éº»è±†å€", lat: 23.186, lon: 120.248}, {name: "å°å—å¸‚ ä¸‹ç‡Ÿå€", lat: 23.236, lon: 120.264}, {name: "å°å—å¸‚ å…­ç”²å€", lat: 23.226, lon: 120.347},
  {name: "å°å—å¸‚ å®˜ç”°å€", lat: 23.193, lon: 120.315}, {name: "å°å—å¸‚ å¤§å…§å€", lat: 23.120, lon: 120.354}, {name: "å°å—å¸‚ ä½³é‡Œå€", lat: 23.165, lon: 120.177},
  {name: "å°å—å¸‚ å­¸ç”²å€", lat: 23.232, lon: 120.180}, {name: "å°å—å¸‚ è¥¿æ¸¯å€", lat: 23.122, lon: 120.203}, {name: "å°å—å¸‚ ä¸ƒè‚¡å€", lat: 23.141, lon: 120.138},
  {name: "å°å—å¸‚ å°‡è»å€", lat: 23.199, lon: 120.155}, {name: "å°å—å¸‚ åŒ—é–€å€", lat: 23.271, lon: 120.125}, {name: "å°å—å¸‚ æ–°åŒ–å€", lat: 23.038, lon: 120.306},
  {name: "å°å—å¸‚ å–„åŒ–å€", lat: 23.132, lon: 120.293}, {name: "å°å—å¸‚ æ–°å¸‚å€", lat: 23.078, lon: 120.293}, {name: "å°å—å¸‚ å®‰å®šå€", lat: 23.120, lon: 120.236},
  {name: "å°å—å¸‚ å±±ä¸Šå€", lat: 23.100, lon: 120.353}, {name: "å°å—å¸‚ ç‰äº•å€", lat: 23.124, lon: 120.460}, {name: "å°å—å¸‚ æ¥ è¥¿å€", lat: 23.176, lon: 120.485},
  {name: "å°å—å¸‚ å—åŒ–å€", lat: 23.045, lon: 120.477}, {name: "å°å—å¸‚ å·¦é®å€", lat: 23.058, lon: 120.407}, {name: "å°å—å¸‚ ä»å¾·å€", lat: 22.973, lon: 120.252},
  {name: "å°å—å¸‚ æ­¸ä»å€", lat: 22.969, lon: 120.295}, {name: "å°å—å¸‚ é—œå»Ÿå€", lat: 22.963, lon: 120.327}, {name: "å°å—å¸‚ é¾å´å€", lat: 22.946, lon: 120.361},
  {name: "å°å—å¸‚ æ°¸åº·å€", lat: 23.024, lon: 120.257}, {name: "å°å—å¸‚ æ±å€",   lat: 22.991, lon: 120.227}, {name: "å°å—å¸‚ å—å€",   lat: 22.956, lon: 120.184},
  {name: "å°å—å¸‚ åŒ—å€",   lat: 23.008, lon: 120.203}, {name: "å°å—å¸‚ å®‰å—å€", lat: 23.047, lon: 120.183}, {name: "å°å—å¸‚ å®‰å¹³å€", lat: 22.997, lon: 120.165},
  {name: "å°å—å¸‚ ä¸­è¥¿å€", lat: 22.992, lon: 120.197},
  {name: "é«˜é›„å¸‚ é¹½åŸ•å€", lat: 22.625, lon: 120.286}, {name: "é«˜é›„å¸‚ é¼“å±±å€", lat: 22.653, lon: 120.273}, {name: "é«˜é›„å¸‚ å·¦ç‡Ÿå€", lat: 22.690, lon: 120.295},
  {name: "é«˜é›„å¸‚ æ¥ æ¢“å€", lat: 22.727, lon: 120.327}, {name: "é«˜é›„å¸‚ ä¸‰æ°‘å€", lat: 22.648, lon: 120.316}, {name: "é«˜é›„å¸‚ æ–°èˆˆå€", lat: 22.629, lon: 120.310},
  {name: "é«˜é›„å¸‚ å‰é‡‘å€", lat: 22.627, lon: 120.293}, {name: "é«˜é›„å¸‚ è‹“é›…å€", lat: 22.623, lon: 120.332}, {name: "é«˜é›„å¸‚ å‰é®å€", lat: 22.594, lon: 120.307},
  {name: "é«˜é›„å¸‚ æ——æ´¥å€", lat: 22.573, lon: 120.278}, {name: "é«˜é›„å¸‚ å°æ¸¯å€", lat: 22.560, lon: 120.356}, {name: "é«˜é›„å¸‚ é³³å±±å€", lat: 22.627, lon: 120.357},
  {name: "é«˜é›„å¸‚ æ—åœ’å€", lat: 22.507, lon: 120.395}, {name: "é«˜é›„å¸‚ å¤§å¯®å€", lat: 22.605, lon: 120.395}, {name: "é«˜é›„å¸‚ å¤§æ¨¹å€", lat: 22.694, lon: 120.432},
  {name: "é«˜é›„å¸‚ å¤§ç¤¾å€", lat: 22.730, lon: 120.347}, {name: "é«˜é›„å¸‚ ä»æ­¦å€", lat: 22.698, lon: 120.344}, {name: "é«˜é›„å¸‚ é³¥æ¾å€", lat: 22.660, lon: 120.366},
  {name: "é«˜é›„å¸‚ å²¡å±±å€", lat: 22.796, lon: 120.296}, {name: "é«˜é›„å¸‚ æ©‹é ­å€", lat: 22.757, lon: 120.306}, {name: "é«˜é›„å¸‚ ç‡•å·¢å€", lat: 22.793, lon: 120.360},
  {name: "é«˜é›„å¸‚ ç”°å¯®å€", lat: 22.875, lon: 120.362}, {name: "é«˜é›„å¸‚ é˜¿è“®å€", lat: 22.883, lon: 120.328}, {name: "é«˜é›„å¸‚ è·¯ç«¹å€", lat: 22.855, lon: 120.259},
  {name: "é«˜é›„å¸‚ æ¹–å…§å€", lat: 22.895, lon: 120.219}, {name: "é«˜é›„å¸‚ èŒ„è£å€", lat: 22.906, lon: 120.183}, {name: "é«˜é›„å¸‚ æ°¸å®‰å€", lat: 22.818, lon: 120.228},
  {name: "é«˜é›„å¸‚ å½Œé™€å€", lat: 22.783, lon: 120.247}, {name: "é«˜é›„å¸‚ æ¢“å®˜å€", lat: 22.760, lon: 120.266}, {name: "é«˜é›„å¸‚ æ——å±±å€", lat: 22.888, lon: 120.482},
  {name: "é«˜é›„å¸‚ ç¾æ¿ƒå€", lat: 22.900, lon: 120.539}, {name: "é«˜é›„å¸‚ å…­é¾œå€", lat: 23.003, lon: 120.632}, {name: "é«˜é›„å¸‚ ç”²ä»™å€", lat: 23.084, lon: 120.590},
  {name: "é«˜é›„å¸‚ æ‰æ—å€", lat: 22.969, lon: 120.537}, {name: "é«˜é›„å¸‚ å…§é–€å€", lat: 22.946, lon: 120.460}, {name: "é«˜é›„å¸‚ èŒ‚æ—å€", lat: 22.887, lon: 120.665},
  {name: "é«˜é›„å¸‚ æ¡ƒæºå€", lat: 23.160, lon: 120.760}, {name: "é«˜é›„å¸‚ é‚£ç‘ªå¤å€",lat:23.220, lon:120.692},
  {name: "å±æ±ç¸£ å±æ±å¸‚", lat: 22.669, lon: 120.486}, {name: "å±æ±ç¸£ æ½®å·é®", lat: 22.550, lon: 120.542}, {name: "å±æ±ç¸£ æ±æ¸¯é®", lat: 22.467, lon: 120.453},
  {name: "å±æ±ç¸£ æ†æ˜¥é®", lat: 22.003, lon: 120.743}, {name: "å±æ±ç¸£ è¬ä¸¹é„‰", lat: 22.591, lon: 120.485}, {name: "å±æ±ç¸£ é•·æ²»é„‰", lat: 22.677, lon: 120.528},
  {name: "å±æ±ç¸£ éºŸæ´›é„‰", lat: 22.651, lon: 120.526}, {name: "å±æ±ç¸£ ä¹å¦‚é„‰", lat: 22.739, lon: 120.489}, {name: "å±æ±ç¸£ é‡Œæ¸¯é„‰", lat: 22.778, lon: 120.495},
  {name: "å±æ±ç¸£ é¹½åŸ”é„‰", lat: 22.756, lon: 120.573}, {name: "å±æ±ç¸£ é«˜æ¨¹é„‰", lat: 22.825, lon: 120.601}, {name: "å±æ±ç¸£ è¬å·’é„‰", lat: 22.571, lon: 120.567},
  {name: "å±æ±ç¸£ å…§åŸ”é„‰", lat: 22.615, lon: 120.565}, {name: "å±æ±ç¸£ ç«¹ç”°é„‰", lat: 22.585, lon: 120.542}, {name: "å±æ±ç¸£ æ–°åŸ¤é„‰", lat: 22.473, lon: 120.550},
  {name: "å±æ±ç¸£ æ‹å¯®é„‰", lat: 22.368, lon: 120.593}, {name: "å±æ±ç¸£ æ–°åœ’é„‰", lat: 22.544, lon: 120.460}, {name: "å±æ±ç¸£ å´é ‚é„‰", lat: 22.514, lon: 120.485},
  {name: "å±æ±ç¸£ æ—é‚Šé„‰", lat: 22.436, lon: 120.512}, {name: "å±æ±ç¸£ å—å·é„‰", lat: 22.490, lon: 120.518}, {name: "å±æ±ç¸£ ä½³å†¬é„‰", lat: 22.420, lon: 120.549},
  {name: "å±æ±ç¸£ ç‰çƒé„‰", lat: 22.342, lon: 120.369}, {name: "å±æ±ç¸£ è»ŠåŸé„‰", lat: 22.072, lon: 120.710}, {name: "å±æ±ç¸£ æ»¿å·é„‰", lat: 22.022, lon: 120.838},
  {name: "å±æ±ç¸£ æ‹å±±é„‰", lat: 22.260, lon: 120.652}, {name: "å±æ±ç¸£ ä¸‰åœ°é–€é„‰",lat:22.713, lon:120.652}, {name: "å±æ±ç¸£ éœ§å°é„‰", lat: 22.748, lon: 120.730},
  {name: "å±æ±ç¸£ ç‘ªå®¶é„‰", lat: 22.646, lon: 120.643}, {name: "å±æ±ç¸£ æ³°æ­¦é„‰", lat: 22.593, lon: 120.635}, {name: "å±æ±ç¸£ ä¾†ç¾©é„‰", lat: 22.525, lon: 120.630},
  {name: "å±æ±ç¸£ æ˜¥æ—¥é„‰", lat: 22.370, lon: 120.628}, {name: "å±æ±ç¸£ ç…å­é„‰", lat: 22.201, lon: 120.706}, {name: "å±æ±ç¸£ ç‰¡ä¸¹é„‰", lat: 22.128, lon: 120.822},
  {name: "å°æ±ç¸£ å°æ±å¸‚", lat: 22.756, lon: 121.147}, {name: "å°æ±ç¸£ æˆåŠŸé®", lat: 23.100, lon: 121.373}, {name: "å°æ±ç¸£ é—œå±±é®", lat: 23.048, lon: 121.164},
  {name: "å°æ±ç¸£ å‘å—é„‰", lat: 22.786, lon: 121.096}, {name: "å°æ±ç¸£ é¹¿é‡é„‰", lat: 22.913, lon: 121.157}, {name: "å°æ±ç¸£ æ± ä¸Šé„‰", lat: 23.123, lon: 121.218},
  {name: "å°æ±ç¸£ æ±æ²³é„‰", lat: 22.970, lon: 121.300}, {name: "å°æ±ç¸£ é•·æ¿±é„‰", lat: 23.315, lon: 121.453}, {name: "å°æ±ç¸£ å¤ªéº»é‡Œé„‰",lat:22.616, lon:121.007},
  {name: "å°æ±ç¸£ å¤§æ­¦é„‰", lat: 22.355, lon: 120.898}, {name: "å°æ±ç¸£ ç¶ å³¶é„‰", lat: 22.666, lon: 121.492}, {name: "å°æ±ç¸£ æµ·ç«¯é„‰", lat: 23.103, lon: 121.040},
  {name: "å°æ±ç¸£ å»¶å¹³é„‰", lat: 22.903, lon: 121.082}, {name: "å°æ±ç¸£ é‡‘å³°é„‰", lat: 22.596, lon: 120.966}, {name: "å°æ±ç¸£ é”ä»é„‰", lat: 22.295, lon: 120.887},
  {name: "å°æ±ç¸£ è˜­å¶¼é„‰", lat: 22.052, lon: 121.528},
  {name: "èŠ±è“®ç¸£ èŠ±è“®å¸‚", lat: 23.977, lon: 121.604}, {name: "èŠ±è“®ç¸£ é³³æ—é®", lat: 23.745, lon: 121.450}, {name: "èŠ±è“®ç¸£ ç‰é‡Œé®", lat: 23.336, lon: 121.316},
  {name: "èŠ±è“®ç¸£ æ–°åŸé„‰", lat: 24.025, lon: 121.613}, {name: "èŠ±è“®ç¸£ å‰å®‰é„‰", lat: 23.961, lon: 121.568}, {name: "èŠ±è“®ç¸£ å£½è±é„‰", lat: 23.871, lon: 121.509},
  {name: "èŠ±è“®ç¸£ å…‰å¾©é„‰", lat: 23.665, lon: 121.423}, {name: "èŠ±è“®ç¸£ è±æ¿±é„‰", lat: 23.597, lon: 121.516}, {name: "èŠ±è“®ç¸£ ç‘ç©—é„‰", lat: 23.497, lon: 121.378},
  {name: "èŠ±è“®ç¸£ å¯Œé‡Œé„‰", lat: 23.245, lon: 121.250}, {name: "èŠ±è“®ç¸£ ç§€æ—é„‰", lat: 24.116, lon: 121.620}, {name: "èŠ±è“®ç¸£ è¬æ¦®é„‰", lat: 23.714, lon: 121.405},
  {name: "èŠ±è“®ç¸£ å“æºªé„‰", lat: 23.348, lon: 121.144},
  {name: "æ¾æ¹–ç¸£ é¦¬å…¬å¸‚", lat: 23.565, lon: 119.566}, {name: "æ¾æ¹–ç¸£ æ¹–è¥¿é„‰", lat: 23.585, lon: 119.655}, {name: "æ¾æ¹–ç¸£ ç™½æ²™é„‰", lat: 23.666, lon: 119.596},
  {name: "æ¾æ¹–ç¸£ è¥¿å¶¼é„‰", lat: 23.606, lon: 119.518}, {name: "æ¾æ¹–ç¸£ æœ›å®‰é„‰", lat: 23.371, lon: 119.502}, {name: "æ¾æ¹–ç¸£ ä¸ƒç¾é„‰", lat: 23.206, lon: 119.428},
  {name: "é‡‘é–€ç¸£ é‡‘åŸé®", lat: 24.416, lon: 118.317}, {name: "é‡‘é–€ç¸£ é‡‘æ²™é®", lat: 24.489, lon: 118.423}, {name: "é‡‘é–€ç¸£ é‡‘æ¹–é®", lat: 24.437, lon: 118.414},
  {name: "é‡‘é–€ç¸£ é‡‘å¯§é„‰", lat: 24.456, lon: 118.324}, {name: "é‡‘é–€ç¸£ çƒˆå¶¼é„‰", lat: 24.428, lon: 118.245}, {name: "é‡‘é–€ç¸£ çƒåµé„‰", lat: 24.991, lon: 119.445},
  {name: "é€£æ±Ÿç¸£ å—ç«¿é„‰", lat: 26.152, lon: 119.932}, {name: "é€£æ±Ÿç¸£ åŒ—ç«¿é„‰", lat: 26.224, lon: 120.001}, {name: "é€£æ±Ÿç¸£ è’å…‰é„‰", lat: 25.968, lon: 119.967},
  {name: "é€£æ±Ÿç¸£ æ±å¼•é„‰", lat: 26.366, lon: 120.493}
];

// ç•¶å‰å¤©æ°£é¡å‹ï¼Œçµ¦é€šå‹¤å»ºè­°ç”¨ï¼š"rain" | "wind" | "ok"
let currentWeatherType = "ok";

// å–å¾— DOM
const searchInput   = document.getElementById("searchInput");
const suggestions   = document.getElementById("suggestions");
const getWeatherBtn = document.getElementById("getWeatherBtn");
const geoBtn        = document.getElementById("geoBtn");
const loadingBox    = document.getElementById("loadingBox");
const loadingText   = document.getElementById("loadingText");

// ========== Google é¢¨æ ¼æœå°‹é«”é©— ==========
searchInput.addEventListener("input", () => {
    const v = searchInput.value.trim();
    if(!v){
        suggestions.style.display="none";
        return;
    }
    const list = districts.filter(a => a.name.includes(v));
    if(!list.length){
        suggestions.style.display="none";
        return;
    }
    suggestions.innerHTML = list
        .map(a => `<div class="s-item">${a.name}</div>`)
        .join("");
    suggestions.style.display = "block";

    // é»æ“Šå³æœå°‹ (é«”é©—æœ€ä½³åŒ–)
    document.querySelectorAll(".s-item").forEach(item=>{
        item.onclick = () => {
            const selectedName = item.textContent;
            searchInput.value = selectedName;
            suggestions.style.display = "none";
            
            // ç›´æ¥è§¸ç™¼æœå°‹
            const area = districts.find(a => a.name === selectedName);
            if(area){
                fetchWeather(area.lat, area.lon, area.name);
            }
        };
    });
});

document.addEventListener("click", (e)=>{
    if(!e.target.closest(".search-wrapper")){
        suggestions.style.display="none";
    }
});

// ========== äº‹ä»¶ï¼šæ‰‹å‹•æœå°‹æŒ‰éˆ• (ä¿ç•™ä½œç‚ºå‚™ç”¨) ==========
getWeatherBtn.addEventListener("click", () => {
    const text = searchInput.value.trim();
    if(!text){
        alert("è«‹å…ˆè¼¸å…¥åœ°å€åç¨±");
        return;
    }
    const area = districts.find(a => a.name === text) ||
                 districts.find(a => a.name.includes(text));
    if(!area){
        alert("æŸ¥ç„¡æ­¤åœ°å€ï¼Œè«‹ç¢ºèªè¼¸å…¥æ˜¯å¦æ­£ç¢º");
        return;
    }
    fetchWeather(area.lat, area.lon, area.name);
});

// ========== äº‹ä»¶ï¼šå®šä½æŒ‰éˆ• ==========
geoBtn.addEventListener("click", () => {
    if(!navigator.geolocation){
        alert("æ­¤è£ç½®ä¸æ”¯æ´å®šä½åŠŸèƒ½");
        return;
    }
    setLoading(true, "æ­£åœ¨å®šä½ä¸¦æœå°‹æ‚¨æ‰€åœ¨çš„ç¸£å¸‚...");

    const geoTimeout = setTimeout(() => {
        setLoading(false);
        alert("å–å¾—å®šä½é€¾æ™‚ï¼Œå¯èƒ½æ˜¯è¨Šè™Ÿä¸ä½³æˆ–ç€è¦½å™¨æ¬Šé™è¢«é˜»æ“‹ã€‚");
    }, 10000);

    navigator.geolocation.getCurrentPosition(
        async (pos)=>{
            clearTimeout(geoTimeout);
            const {latitude, longitude} = pos.coords;
            const locName = await fetchLocationName(latitude, longitude);
            fetchWeather(latitude, longitude, locName);
        },
        (err)=>{
            clearTimeout(geoTimeout);
            setLoading(false);
            alert("ç„¡æ³•å–å¾—å®šä½ï¼Œè«‹ç¢ºèªç€è¦½å™¨æ¬Šé™ã€‚");
            console.error(err);
        }
    );
});

// åå‘åœ°ç†ç·¨ç¢¼
async function fetchLocationName(lat, lon) {
    try {
        const res = await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${lat}&longitude=${lon}&localityLanguage=zh`);
        const data = await res.json();
        let name = "";
        if(data.city) name += data.city + " ";
        if(data.locality) name += data.locality;
        return name.trim() || "ç›®å‰ä½ç½®";
    } catch (e) {
        return "ç›®å‰ä½ç½®";
    }
}

// ========== å‘¼å« Open-Meteo å–å¾—å¤©æ°£ ==========
async function fetchWeather(lat, lon, label){
    try{
        setLoading(true, "æ­£åœ¨æŸ¥è©¢å¤©æ°£...");
        
        if(label !== "ç›®å‰ä½ç½®") {
            searchInput.value = label;
        }

        const url =
          `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}` +
          `&current=temperature_2m,precipitation,wind_speed_10m,weather_code` +
          `&daily=temperature_2m_max,temperature_2m_min&hourly=precipitation_probability` +
          `&forecast_days=1&timezone=auto`;

        const res  = await fetch(url);
        const data = await res.json();
        const c    = data.current;
        const d    = data.daily;
        const h    = data.hourly;

        const extra = {
          tMax: d && d.temperature_2m_max ? d.temperature_2m_max[0] : null,
          tMin: d && d.temperature_2m_min ? d.temperature_2m_min[0] : null,
          rainProb: getHourlyProb(h)
        };

        updateWeatherSummary(label, c, extra);
        document.getElementById("commuteBtns").style.display = "flex";
        document.getElementById("commuteResult").textContent = "";
        
        document.getElementById("weatherSummaryCard").scrollIntoView({ behavior: 'smooth', block: 'start' });

    }catch(e){
        console.error(e);
        alert("æŸ¥è©¢å¤©æ°£æ™‚ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚");
    }finally{
        setLoading(false);
    }
}

function getHourlyProb(hourlyData) {
    if (!hourlyData || !hourlyData.precipitation_probability) return 0;
    const currentHour = new Date().getHours();
    return hourlyData.precipitation_probability[currentHour] || 0;
}

function setLoading(isLoading, text="æŸ¥è©¢ä¸­..."){
    loadingBox.style.display = isLoading ? "flex" : "none";
    if(isLoading) loadingText.textContent = text;
    getWeatherBtn.disabled = isLoading;
    geoBtn.disabled = isLoading;
}

// ========== æ ¼å¼åŒ–æ™‚é–“ ==========
function getCurrentFormattedTime() {
    const now = new Date();
    const days = ["æ˜ŸæœŸæ—¥", "æ˜ŸæœŸä¸€", "æ˜ŸæœŸäºŒ", "æ˜ŸæœŸä¸‰", "æ˜ŸæœŸå››", "æ˜ŸæœŸäº”", "æ˜ŸæœŸå…­"];
    const day = days[now.getDay()];
    
    let hours = now.getHours();
    const mins = now.getMinutes().toString().padStart(2, '0');
    const ampm = hours >= 12 ? "ä¸‹åˆ" : "ä¸Šåˆ";
    hours = hours % 12;
    hours = hours ? hours : 12; 
    
    return `${day}${ampm}${hours}:${mins}`;
}

// ========== WMO å¤©æ°£ä»£ç¢¼è½‰æ› ==========
function getWeatherStatus(code) {
    switch(code) {
        case 0: return { icon: "â˜€ï¸", text: "æ™´æœ—" };
        case 1: 
        case 2: 
        case 3: return { icon: "â›…", text: "å¤šé›²" };
        case 45: 
        case 48: return { icon: "ğŸŒ«ï¸", text: "æœ‰éœ§" };
        case 51: 
        case 53: 
        case 55: return { icon: "ğŸŒ§ï¸", text: "æ¯›æ¯›é›¨" };
        case 61: 
        case 63: 
        case 65: return { icon: "ğŸŒ§ï¸", text: "ä¸‹é›¨" };
        case 80: 
        case 81: 
        case 82: return { icon: "â›ˆï¸", text: "é™£é›¨" };
        case 95: 
        case 96: 
        case 99: return { icon: "â›ˆï¸", text: "é›·é›¨" };
        default: return { icon: "ğŸŒ¥ï¸", text: "é™°å¤©" };
    }
}

// ========== å¤©æ°£æ‘˜è¦èˆ‡æŒ‡æ¨™ (é‚è¼¯ä¿®æ­£ç‰ˆ) ==========
function updateWeatherSummary(label, c, extra){
    const card = document.getElementById("weatherSummaryCard");
    const tNow = c.temperature_2m;
    const wCode = c.weather_code;
    const wSpeed = c.wind_speed_10m;
    const rainProb = extra.rainProb; 
    const tMax = extra.tMax ?? tNow;
    const tMin = extra.tMin ?? tNow;

    const weatherInfo = getWeatherStatus(wCode);

    // 1. ç©¿è¡£å»ºè­°
    let clothes;
    if(tNow >= 30)      clothes = "ä»Šå¤©åæ‚¶ç†±ï¼Œå»ºè­°ç©¿æ¶¼ä¸€é» ğŸ¥µ";
    else if(tNow >= 22) clothes = "çŸ­è¢–ï¼‹è–„å¤–å¥—å°±å¾ˆèˆ’æœ ğŸ˜Œ";
    else if(tNow >= 16) clothes = "é•·è¢–æˆ–è–„å¤–å¥—æœ€å‰›å¥½ ğŸ™‚";
    else                clothes = "è »å†·çš„ï¼Œè¨˜å¾—ç©¿åšä¸€é» ğŸ§£";

    // 2. å¸¶å‚˜å»ºè­° (é‚è¼¯ä¿®æ­£)
    let umbrella;
    if (rainProb === 0) {
        // åªæœ‰çœŸæ­£çš„ 0% æ‰èªªå®Œå…¨æ²’é›¨
        umbrella = "å®Œå…¨æ²’é›¨ï¼Œä¸ç”¨å¸¶å‚˜ï¼Œè¼•ä¾¿å‡ºé–€å§ ğŸ‘";
        currentWeatherType = "ok";
    } else if (rainProb <= 30) {
        // 1% ~ 30%ï¼šæ©Ÿç‡ä½ï¼Œä½†èªæ°£ä¿ç•™
        umbrella = "é™é›¨æ©Ÿç‡ä¸é«˜ï¼Œå«Œé‡å¯ä»¥ä¸å¸¶ï¼Œæˆ–å¸¶æ‘ºç–Šå‚˜å‚™ç”¨ â˜ï¸";
        currentWeatherType = "ok"; 
    } else if (rainProb <= 60) {
        // 31% ~ 60%
        umbrella = "å‡ºé–€å»ºè­°å¸¶æŠŠå‚˜ï¼Œé¿å…çªç™¼é™£é›¨ ğŸŒ¦ï¸";
        currentWeatherType = "rain";
    } else {
        // > 60%
        umbrella = "é™é›¨æ©Ÿç‡é«˜ï¼Œå‡ºé–€ä¸€å®šè¦å¸¶å‚˜ â˜”";
        currentWeatherType = "rain";
    }

    // 3. é¢¨é€Ÿå»ºè­°
    let windMsg;
    if(wSpeed > 20){
        windMsg = "å¼·é¢¨è­¦æˆ’ âš ï¸";
        currentWeatherType = "wind"; 
    }else if(wSpeed > 10){
        windMsg = "æœ‰é»é¢¨ï¼Œé«”æ„Ÿæœƒå†æ¶¼ä¸€é» ğŸƒ";
    }else{
        windMsg = "é¢¨é€Ÿæ­£å¸¸ï¼Œä¸å¤ªå½±éŸ¿é€šå‹¤ ğŸ™‚";
    }
    
    // è‹¥é›¨å¤§ï¼Œé¢¨å¤§ä¹Ÿç®—é›¨å¤©
    if(rainProb >= 50) currentWeatherType = "rain";

    // 4. é€šå‹¤æé†’ä¸€å¥
    let noteLine;
    if(currentWeatherType === "rain"){
        noteLine = "é›¨å‹¢é—œä¿‚ï¼Œå»ºè­°é ç•™ç·©è¡æ™‚é–“ï¼Œæˆ–é¸æ“‡ä¸æ·‹é›¨çš„äº¤é€šå·¥å…·ï¼";
    }else if(currentWeatherType === "wind"){
        noteLine = "é¢¨æ¯”è¼ƒå¤§ï¼Œé¨è»Šæˆ–èµ°è·¯éƒ½è¦å°å¿ƒå´é¢¨ï¼";
    }else{
        noteLine = "å¤©æ°£æ­£å¸¸ï¼Œé¸ä¸€å€‹ä½ æœ€èˆ’æœçš„é€šå‹¤æ–¹å¼å°±å¥½ã€‚";
    }

    // ===== å¯«å…¥ç•«é¢ =====
    document.getElementById("summaryCity").textContent = label;
    document.getElementById("summaryTime").textContent = getCurrentFormattedTime();

    const infoList = document.getElementById("infoList");
    infoList.innerHTML = `
        <div class="info-row">
            <div class="info-icon">ğŸŒ¡</div>
            <div class="info-text">æ°£æº«ï¼š${tNow}â„ƒ (é«˜:${tMax.toFixed(1)} / ä½:${tMin.toFixed(1)})</div>
        </div>
        <div class="info-row">
            <div class="info-icon">${weatherInfo.icon}</div>
            <div class="info-text">å¤©æ°£ï¼š${weatherInfo.text}</div>
        </div>
        <div class="info-row">
            <div class="info-icon">ğŸŒ§</div>
            <div class="info-text">é™é›¨ï¼š${rainProb}%</div>
        </div>
        <div class="info-row">
            <div class="info-icon">ğŸ‘•</div>
            <div class="info-text">ç©¿è¡£ï¼š${clothes}</div>
        </div>
        <div class="info-row">
            <div class="info-icon">â˜”</div>
            <div class="info-text">å¸¶å‚˜ï¼š${umbrella}</div>
        </div>
        <div class="info-row">
            <div class="info-icon">ğŸ’¨</div>
            <div class="info-text">é¢¨é€Ÿï¼š${wSpeed} m/sï½œ${windMsg}</div>
        </div>
    `;

    document.getElementById("weatherBottomNote").textContent = noteLine;
    card.style.display = "block";
}

// ========== é€šå‹¤å»ºè­° ==========
document.querySelectorAll(".cm-btn").forEach(btn=>{
    btn.addEventListener("click", () => {
        const type = btn.dataset.type;
        const msg = buildCommuteAdvice(type, currentWeatherType);
        
        const resultBox = document.getElementById("commuteResult");
        resultBox.style.opacity = 0;
        setTimeout(()=>{
            resultBox.innerHTML = `<span style="color:#3A8DFF">ğŸ’¡ å»ºè­°ï¼š</span>${msg}`;
            resultBox.style.opacity = 1;
            resultBox.style.transition = "opacity 0.3s";
        }, 100);
    });
});

function buildCommuteAdvice(mode, weatherType){
    if(mode === "scooter"){
        if(weatherType === "rain")
            return "é›¨å¤©è·¯æ»‘ï¼Œé¨è»Šè«‹æ”¾æ…¢é€Ÿåº¦ã€ç©¿å¥½å…©ä»¶å¼é›¨è¡£ï¼Œæ³¨æ„æ¨™ç·šæ‰“æ»‘ã€‚";
        if(weatherType === "wind")
            return "é¢¨æœ‰é»å¼·ï¼Œé¨è»Šæ™‚å°å¿ƒå´é¢¨ï¼ŒæŠ“ç©©é¾é ­ï¼Œé¿å…è¢«å¹åã€‚";
        return "å¤©æ°£ç©©å®šï¼Œé¨è»Šé€šå‹¤å¾ˆæ–¹ä¾¿ï¼Œè¨˜å¾—å®‰å…¨å¸½æ‰£å¥½å³å¯ã€‚";
    }
    if(mode === "car"){
        if(weatherType === "rain")
            return "é›¨å¤©è¦–ç·šå·®ï¼Œå»ºè­°ææ—©å‡ºé–€ï¼Œæ‹‰é–‹è»Šè·ã€é¿å…æ€¥ç…ã€‚";
        if(weatherType === "wind")
            return "é¢¨æ¯”è¼ƒå¤§ï¼Œè‹¥ç¶“éé«˜æ¶è·¯æ®µè«‹æ³¨æ„å´é¢¨ï¼Œç©©ä½æ–¹å‘ç›¤ã€‚";
        return "é–‹è»Šé€šå‹¤å¾ˆèˆ’æœï¼Œè»Šä¸Šè½å€‹ Podcast é–‹å§‹æ–°çš„ä¸€å¤©å§ã€‚";
    }
    if(mode === "mrt"){
        if(weatherType === "rain" || weatherType === "wind")
            return "é€™ç¨®å¤©æ°£æ­æ·é‹æœ€è°æ˜ï¼Œå®Œå…¨ä¸å—é¢¨é›¨å½±éŸ¿ï¼Œä¹Ÿä¸æ€•å¡è»Šã€‚";
        return "æ·é‹æ˜¯æº–æ™‚åˆä¸ç…©å¿ƒçš„å¥½é¸æ“‡ï¼Œå¯ä»¥åˆ©ç”¨æ™‚é–“é–±è®€æˆ–è£œçœ ã€‚";
    }
    if(mode === "bus"){
        if(weatherType === "rain")
            return "é›¨å¤©å…¬è»Šå¯èƒ½æ¯”è¼ƒæ“ ï¼Œç­‰è»Šè¨˜å¾—æ‰¾é®è”½è™•ï¼Œé¿å…æ·‹æ¿•ã€‚";
        if(weatherType === "wind")
            return "é¢¨å¤§æ™‚åœ¨ç«™ç‰Œç­‰è»Šæ¯”è¼ƒè¾›è‹¦ï¼Œå»ºè­°é€é App ç¢ºèªåˆ°ç«™æ™‚é–“å†å‡ºé–€ã€‚";
        return "æ­å…¬è»Šå¯ä»¥é †ä¾¿æ¬£è³è¡—æ™¯ï¼Œæˆ–æ»‘æ»‘æ‰‹æ©Ÿæ”¾é¬†ä¸€ä¸‹ã€‚";
    }
    if(mode === "cafe"){
        if(weatherType === "rain")
            return "å¤–é¢é›¨å‹¢ä¸å°ï¼Œå…ˆèº²é€²å’–å•¡å»³å·¥ä½œï¼Œç­‰é›¨è®Šå°å†ç§»å‹•æ˜¯æ˜æ™ºä¹‹èˆ‰ã€‚";
        if(weatherType === "wind")
            return "å¤–é¢é¢¨å¤§ï¼Œä¸å¦‚åœ¨å’–å•¡å»³é»æ¯ç†±é£²ï¼Œæº«æš–åœ°é–‹å§‹å·¥ä½œã€‚";
        return "æƒ³æ›å€‹å¿ƒæƒ…ï¼Ÿä»Šå¤©å¾ˆé©åˆåœ¨å’–å•¡å»³äº«å—æ…¢æ´»æ—©æ™¨çš„å·¥ä½œæ™‚å…‰ã€‚";
    }
    if(mode === "walk"){
        if(weatherType === "rain")
            return "ä»Šå¤©ä¸‹é›¨ï¼Œä¸å¤ªé©åˆèµ°å¤ªé ï¼Œé‹è¥ªæ¿•æ‰æœƒå¾ˆä¸èˆ’æœå–”ã€‚";
        if(weatherType === "wind")
            return "é¢¨æœ‰é»å¼·ï¼Œèµ°è·¯æ™‚ç•™æ„æ‰è½ç‰©ï¼Œé›¨å‚˜è¦æŠ“å¥½ä»¥å…é–‹èŠ±ã€‚";
        return "å¤©æ°£èˆ’æœï¼Œæå‰ä¸€ç«™ä¸‹è»Šæ•£æ­¥ï¼Œæ˜¯å¢åŠ é‹å‹•é‡çš„å¥½æ–¹æ³•ï¼";
    }
    return "ä¾ç…§è‡ªå·±çš„ç‹€æ…‹é¸ä¸€å€‹æœ€è‡ªåœ¨çš„æ–¹å¼å°±å¥½ã€‚";
}
</script>
</body>
</html>